# 查看慢查询开启状态
show variables like 'slow_query_log';
# 查询记录没有使用索引的查询是否开启（默认没有开启）
show variables like 'log_queries_not_using_indexes';
# 查询时间慢查询的SQL语句的时长（默认10秒）
show variables like 'long_query_time';
# 开启慢查询后查询慢查询的条数
show status like 'slow_queries';
# 查看记录慢查询的SQL的位置
show variables like 'slow_query_log_file';

## 如何修改配置默认配置？
# 方式一（需要重启MYSQL服务，但是配置可以持续保留）
#开启慢查询日志记录 
slow_query_log=1
#查询时间超过10秒的SQL语句会被记录  
long_query_time=10
#记录没有使用索引的查询
log_queries_not_using_indexes=1
#记录慢查询日志的文件地址  
slow-query-log-file=/var/lib/mysql/localhost-slow.log
# 方式二（在mysql控制台修改,无需重启mysql服务，但是配置在MySQL服务重启后就失效了）
#开启慢查询日志记录
mysql> set global slow_query_log=on;
#查询时间超过10秒的sql语句会被记录
mysql> set long_query_time=10;
#记录慢查询日志的文件地址
mysql> set global slow_query_log_file="/var/lib/mysql/localhost-slow.log";
#记录没有使用索引的查询
mysql> set global log_queries_not_using_indexes=on;